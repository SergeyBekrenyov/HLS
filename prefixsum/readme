pp4fpga book example with small modifications
